<app-loading *ngIf="api.loading"></app-loading>

<div class="covid_info_grid">
  <div class="card">
    <div class="card-body">
      <h5 class="card-title">Active Cases</h5>
      <ul>
        <li *ngIf="studentCaseData">Student Cases: <ng2-odometer [number]="studentCases"></ng2-odometer>
        </li>
        <li *ngIf="employeeCaseData">Employee Cases: <ng2-odometer [number]="employeeCases"></ng2-odometer>
        </li>
      </ul>
    </div>
  </div>
  <div class="card">
    <div class="card-body">
      <h5 class="card-title">Students in Isolation or Quarantine</h5>
      <ul>
        <li *ngIf="isolationData">Students in Isolation: <ng2-odometer [number]="isolations"></ng2-odometer>
        </li>
        <li *ngIf="quarantineData">Students in Quarantine: <ng2-odometer [number]="quarantines"></ng2-odometer>
        </li>
      </ul>
    </div>
  </div>
  <div class="card">
    <div class="card-body">
      <h5 class="card-title">Prevalence Test Results</h5>
      <ul>
        <li *ngIf="prevalencePositiveData">Positive Prevalence Tests: <ng2-odometer [number]="prevalencePositives"></ng2-odometer>
        </li>
        <li *ngIf="prevalenceNegativeData">Negative Prevalence Tests: <ng2-odometer [number]="prevalenceNegatives"></ng2-odometer>
        </li>
      </ul>
    </div>
  </div>
  <div class="card">
    <div class="card-body">
      <h5 class="card-title">COVID-19 Test Results</h5>
      <ul>
        <li *ngIf="negativeTestData">Negative Test Results: <ng2-odometer [number]="negativeTestResults"></ng2-odometer>
        </li>
        <li *ngIf="positiveTestData">Positive Test Results: <ng2-odometer [number]="positiveTestResults"></ng2-odometer>
        </li>
      </ul>
    </div>
  </div>
  <div class="card">
    <div class="card-body">
      <h5 class="card-title">About</h5>
      <a class="card-link" href="https://together.vcu.edu/dashboard/">Data Source</a>
      <a class="card-link" href="https://github.com/stearnsbq/VCUCovid-website">Github</a>
      <p class="card-text"></p>
      <footer *ngIf="studentCaseData" class="blockquote-footer">Last Updated {{studentCaseData[0].date.split('T')[0]}}</footer>
    </div>
  </div>
</div>
<div class="charts">
  <div class="top">
    <div class="graph">
      <app-graph *ngIf="studentCaseData && employeeCaseData" [title]="'COVID-19 Cases'" [colors]="['rgba(255, 190, 12, 0.6)', 'rgba(33, 31, 31, 0.6)']" [dataNames]="['Student Cases', 'Employee Cases']" [data]="[studentCaseData, employeeCaseData]"></app-graph>
    </div>
    <div class="graph">
      <app-graph *ngIf="prevalenceNegativeData && prevalencePositiveData" [title]="'Prevalence Test Results'" [colors]="['rgba(255, 190, 12, 0.6)', 'rgba(33, 31, 31, 0.6)']" [dataNames]="['Negative Results', 'Positive Results']" [data]="[prevalenceNegativeData, prevalencePositiveData]"></app-graph>
    </div>
  </div>
  <div class="bottom">
      <div class="graph">
        <app-graph *ngIf="isolationData && quarantineData" [title]="'Students In Isolation or Quarantine'" [colors]="['rgba(255, 190, 12, 0.6)', 'rgba(33, 31, 31, 0.6)']" [dataNames]="['Quarantined Students', 'Isolated Students']" [data]="[quarantineData, isolationData]"></app-graph>
      </div>
      <div class="graph">
        <app-graph *ngIf="negativeTestData && positiveTestData" [title]="'Test Results'" [colors]="['rgba(255, 190, 12, 0.6)', 'rgba(33, 31, 31, 0.6)']" [dataNames]="['Negative Results', 'Positive Results']" [data]="[negativeTestData, positiveTestData]"></app-graph>
      </div>
  </div>
</div>
